//
//     Generated by class-dump 3.5 (64 bit) (Debug version compiled Sep 17 2017 16:24:48).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2015 by Steve Nygard.
//

#import <objc/NSObject.h>

#import "CLLocationManagerDelegate-Protocol.h"
#import "WALocationSourceDelegate-Protocol.h"

@class CLLocation, CLLocationManager, NSDate, NSMutableDictionary, NSMutableSet, NSString, NSTimer, NSUserDefaults, WAChatManager, WAChatStorage, WALiveLocationReportingSession, WALocationSource, WALocationStorage, WALocationSubscription, WAMessagingService, WAMutableDictionary, WAPersistentRequestManager, WARateLimitedOperation, WARollingWindow, WASignalManager, WAWeakTimer, XMPPConnectionMain, XMPPNotificationStanza;

@interface WALiveLocationController : NSObject <CLLocationManagerDelegate, WALocationSourceDelegate>
{
    WAMutableDictionary *_retryCountForRecipient;
    WARateLimitedOperation *_sendRetryRateLimit;
    WARateLimitedOperation *_requestRetryRateLimit;
    WARateLimitedOperation *_locationUpdateRateLimit;
    XMPPNotificationStanza *_unackedKeyDistributionNotification;
    WAMutableDictionary *_unackedRetryKeyDistributionNotifications;
    WAWeakTimer *_stopReportingTimer;
    NSMutableSet *_retryDeniedFrom;
    WARollingWindow *_reportingRollingWindow;
    WARollingWindow *_sharingRollingWindow;
    long long _backoffStage;
    WALiveLocationReportingSession *_reportingSession;
    _Bool _sendPushBackoffWhenPossible;
    NSMutableSet *_subscribedToLocationUpdatesFrom;
    NSMutableSet *_webClientSubscribedToLocationUpdatesFrom;
    long long _reportLocationCount;
    double _pushBackoff;
    NSTimer *_finalLocationExpiredTimer;
    WALocationSubscription *_locationSourceSubscription;
    _Bool _scheduleUpdateLatestLocation;
    NSMutableDictionary *_significantLocationSubscriptions;
    NSMutableDictionary *_liveLocationTimers;
    CLLocationManager *_backgroundLocationManager;
    _Bool _haveLocationSubscribers;
    WAChatStorage *_chatStorage;
    WAChatManager *_chatManager;
    WALocationStorage *_locationStorage;
    WAMessagingService *_messagingService;
    WAPersistentRequestManager *_persistentRequestManager;
    WASignalManager *_signalManager;
    NSUserDefaults *_userDefaults;
    XMPPConnectionMain *_xmppConnection;
    CLLocation *_lastReportedLocation;
    NSString *_lastReportedLocationSource;
    NSDate *_reportingLocationEndDate;
    WALocationSource *_locationSource;
}

@property(retain, nonatomic) WALocationSource *locationSource; // @synthesize locationSource=_locationSource;
@property(retain, nonatomic) NSDate *reportingLocationEndDate; // @synthesize reportingLocationEndDate=_reportingLocationEndDate;
@property(copy) NSString *lastReportedLocationSource; // @synthesize lastReportedLocationSource=_lastReportedLocationSource;
@property(nonatomic) _Bool haveLocationSubscribers; // @synthesize haveLocationSubscribers=_haveLocationSubscribers;
@property(retain) CLLocation *lastReportedLocation; // @synthesize lastReportedLocation=_lastReportedLocation;
@property(readonly, nonatomic) XMPPConnectionMain *xmppConnection; // @synthesize xmppConnection=_xmppConnection;
@property(readonly, nonatomic) NSUserDefaults *userDefaults; // @synthesize userDefaults=_userDefaults;
@property(readonly, nonatomic) WASignalManager *signalManager; // @synthesize signalManager=_signalManager;
@property(readonly, nonatomic) WAPersistentRequestManager *persistentRequestManager; // @synthesize persistentRequestManager=_persistentRequestManager;
@property(readonly, nonatomic) WAMessagingService *messagingService; // @synthesize messagingService=_messagingService;
@property(readonly, nonatomic) WALocationStorage *locationStorage; // @synthesize locationStorage=_locationStorage;
@property(readonly, nonatomic) WAChatManager *chatManager; // @synthesize chatManager=_chatManager;
@property(readonly, nonatomic) WAChatStorage *chatStorage; // @synthesize chatStorage=_chatStorage;
- (void).cxx_destruct;
- (void)registerHandlersForPersistentRequestManager:(id)arg1;
- (id)sharedObjectKeyForPersistentRequestManager:(id)arg1;
- (void)unsubscribeFromLocationUpdatesForWebClient;
- (void)unsubscribeFromLocationUpdatesFromChatJID:(id)arg1 forWebClient:(_Bool)arg2 webClientRequestID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)subscribeToLocationUpdatesFromChatJID:(id)arg1 forWebClient:(_Bool)arg2 reportParticipants:(_Bool)arg3 includeMessageInParticipantInfo:(_Bool)arg4 completion:(CDUnknownBlockType)arg5;
- (void)processIncomingLocationNotification:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handleUserDisabledLocationSharingNotification:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)registerDailyStatsCallback:(id)arg1;
- (void)userDidLeaveGroup:(id)arg1;
- (void)checkForLocationKeyEligibilityChange:(id)arg1;
- (void)locationKeyEligibilityDidChange:(id)arg1;
- (void)locationSharingDidEnd:(id)arg1;
- (void)e2eIdentityChanged:(id)arg1;
- (void)willRevokeMessages:(id)arg1;
- (void)xmppConnectionStateDidChange:(id)arg1;
- (void)willDeleteMessages:(id)arg1;
- (void)applicationWillResignActive:(id)arg1;
- (void)addLocationRecipientsToStorageForChatJID:(id)arg1 messageID:(id)arg2 endDate:(id)arg3;
- (double)locationSourceDesiredAccuracy:(id)arg1;
- (void)locationSource:(id)arg1 locationDidChangeSignificantly:(id)arg2;
- (void)locationSource:(id)arg1 didChangeAuthorization:(int)arg2;
- (void)locationSource:(id)arg1 didUpdateLocations:(id)arg2;
- (id)descriptionForLocationSource:(id)arg1;
- (_Bool)shouldReportLocation:(id)arg1 source:(id)arg2;
- (void)locationSource:(id)arg1 didFailWithError:(id)arg2;
- (_Bool)shouldEnableBackgroundLocation;
- (void)stopBackgroundLocationManagerIfNeeded;
- (void)startBackgroundLocationManagerIfNeeded;
- (_Bool)isBackgroundLocationEnabled;
- (void)stopTimersForMessageUniqueKey:(id)arg1;
- (void)didLogSharingTerminationForMessage:(id)arg1;
- (_Bool)locationSharingDidEndForMessage:(id)arg1 reason:(long long)arg2;
- (double)locationSharingDurationForMessage:(id)arg1;
- (_Bool)locationSharingDidEndForChatSession:(id)arg1 reason:(long long)arg2;
- (void)rescheduleTimerForExpiringFinalLiveLocationRecipients;
- (void)finalLocationRecipientsDidExpire:(id)arg1;
- (void)checkForSharingEnded;
- (void)startErasingExpiredCachedLocationMessages;
- (void)loadDeferredObjects;
- (_Bool)enterOrLeaveSharingRollingWindow;
- (void)scheduleAdditionalExpirationTimerIfNeededForMessage:(id)arg1;
- (void)scheduleExpirationTimerForMessage:(id)arg1;
- (void)locationSharingWillExpireSoonish:(id)arg1;
- (void)locationSharingExpired:(id)arg1;
- (void)submitLiveLocationMessageStatus:(long long)arg1 timeInterval:(double)arg2;
- (void)didSendLiveLocationMessage:(id)arg1 timeToGetLocation:(double)arg2;
- (void)didCancelSendOfLiveLocationMessage:(id)arg1;
- (void)sharingDidEndWithDuration:(double)arg1 reason:(long long)arg2 message:(id)arg3;
- (void)willSendWithDuration:(double)arg1 entrypoint:(long long)arg2;
- (void)sendPushBackoffRequest:(double)arg1 completion:(CDUnknownBlockType)arg2;
- (void)setPushBackoff:(double)arg1;
- (void)updatePushBackoff;
- (void)stopReportingSession;
- (void)startReportingSession;
- (_Bool)requestLocationRetryFromUserJID:(id)arg1 retryCount:(long long)arg2 chatJID:(id)arg3 messageID:(id)arg4;
- (void)sanityCheckFinalLocationChatJID:(id)arg1 messageID:(id)arg2;
- (void)completeRetryMessageTaskForUserJID:(id)arg1;
- (void)didEncryptForRetryWithFanoutUserJIDs:(id)arg1 intendedRecipient:(id)arg2 result:(id)arg3 retryCount:(long long)arg4 error:(id)arg5;
- (void)addAndSendRetryForUserJID:(id)arg1 retryCount:(unsigned long long)arg2;
- (void)didCheckLocationEligibilityOfUser:(id)arg1 recipientRegistrationId:(id)arg2 retryCount:(unsigned long long)arg3 eligibleParticipants:(id)arg4;
- (void)handleRetryFromUserJID:(id)arg1 recipientRegistrationId:(id)arg2 retryCount:(unsigned long long)arg3;
- (void)sendFinalLocationWithCiphertextPayload:(id)arg1 toJID:(id)arg2 chatJID:(id)arg3 messageID:(id)arg4 retryCount:(long long)arg5;
- (void)sendFinalRetryForUserAndChat:(id)arg1 messageID:(id)arg2 retryCount:(unsigned long long)arg3;
- (void)handleFinalRetryRequestFrom:(id)arg1 recipientRegistrationId:(id)arg2 retryCount:(long long)arg3 messageID:(id)arg4;
- (void)sendRetryDenyToUser:(id)arg1;
- (_Bool)shouldRequestRetriesFrom:(id)arg1;
- (id)myCachedLocationInChatWithJID:(id)arg1;
- (void)setLocationEndDateToNowForMessageWithUniqueKey:(id)arg1 senderAndChat:(id)arg2;
- (void)updateMessageForJIDPairThatDidStopSharing:(id)arg1;
- (void)retryStopSharingRequests;
- (void)unconditionallyTellServerToStopSharingWithChatJID:(id)arg1 requestID:(id)arg2 webClientRequestID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)tellServerToStopSharingWithChatJID:(id)arg1 requestID:(id)arg2 webClientRequestID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)checkLocationEligibilityOfUsers:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)reallySendLiveLocationUntil:(id)arg1 duration:(double)arg2 comment:(id)arg3 sender:(id)arg4 entrypoint:(long long)arg5 chatJID:(id)arg6 initialLocation:(id)arg7 completion:(CDUnknownBlockType)arg8;
- (void)reallyStopSharingLocationWithChatJID:(id)arg1 message:(id)arg2 userOriginatedCancel:(_Bool)arg3 webClientRequestID:(id)arg4 completion:(CDUnknownBlockType)arg5;
- (void)beginSharingLocationUntil:(id)arg1 duration:(double)arg2 comment:(id)arg3 forContactJID:(id)arg4 initialLocation:(id)arg5 sender:(id)arg6 entrypoint:(long long)arg7 completion:(CDUnknownBlockType)arg8;
- (void)stopSharingLocationInMessage:(id)arg1 chatJID:(id)arg2 userOriginatedCancel:(_Bool)arg3 webClientRequestID:(id)arg4 completion:(CDUnknownBlockType)arg5;
- (void)stopSharingLocationWithChat:(id)arg1 userOriginatedCancel:(_Bool)arg2 webClientRequestID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)stopSharingLocationWithChat:(id)arg1 userOriginatedCancel:(_Bool)arg2;
- (id)locationKeyDistributionStanzaForPayload:(id)arg1 retryCount:(long long)arg2 error:(id *)arg3;
- (id)customDataValueForShouldCorruptKeyForTesting:(_Bool)arg1 fanoutCiphertextPayload:(id)arg2 fanoutJID:(id)arg3;
- (void)sendLocationKeyDistributionNotificationToUserJID:(id)arg1 encryptResult:(id)arg2 retryCount:(long long)arg3;
- (void)sendLocationKeyDistributionNotificationTo:(id)arg1;
- (void)processDecryptedLocationUpdate:(id)arg1 elapsed:(int)arg2 fromUserJID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)processDecryptedFinalLocationUpdate:(id)arg1 fromUserJID:(id)arg2 chatJID:(id)arg3 messageID:(id)arg4 timestamp:(double)arg5;
- (void)performSaveAllDataStores;
- (void)updateLatestLocation:(id)arg1 forMessageUniqueKey:(id)arg2 elapsed:(double)arg3;
- (void)updateFinalLocation:(id)arg1 forMessage:(id)arg2 inChatJID:(id)arg3 fromUserJID:(id)arg4 timestamp:(double)arg5;
- (_Bool)shouldAcceptFinalLocationWithTimeOffset:(double)arg1 forMessageWithTimeOffset:(double)arg2;
- (void)decryptRequestDidComplete:(id)arg1 forUserJID:(id)arg2 chatJID:(id)arg3 messageID:(id)arg4 skipRetry:(_Bool)arg5 error:(id)arg6;
- (void)decryptLocationRequest:(id)arg1 fromUserJID:(id)arg2 chatJID:(id)arg3 messageID:(id)arg4 skipRetry:(_Bool)arg5 completion:(CDUnknownBlockType)arg6;
- (void)decryptLocation:(id)arg1 fromUserJID:(id)arg2 chatJID:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)sendLiveLocationUpdateWithCiphertext:(id)arg1 timestamp:(id)arg2 xmppConnection:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (id)liveLocationIBWithCiphertextPayload:(id)arg1 timestamp:(id)arg2 error:(out id *)arg3;
- (void)didEncryptLocationWithFanoutUserJIDs:(id)arg1 ciphertext:(id)arg2 timestamp:(id)arg3 finalInfo:(id)arg4 completion:(CDUnknownBlockType)arg5;
- (id)liveLocationMessageInChat:(id)arg1;
- (void)handleFinalLocationUpdateOrRetryResponse:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handleFinalLocationUpdate:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (_Bool)finalLocationUpdateOrRetryResponseIsRetryResponse:(id)arg1;
- (void)handleFinalLocationRetryResponse:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (_Bool)shouldRequestRetryOfKeyDistributionMessageWithDecryptionError:(id)arg1;
- (void)handleKeyDistributionMessage:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)handleRetryDeny:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)reportLocation:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)reportFinalLocation:(id)arg1 message:(id)arg2 withInfo:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)reportFinalLocationForSignificantChangeIfNecessary:(id)arg1;
- (_Bool)shouldChangeFinalLocation:(id)arg1 forMessage:(id)arg2;
- (double)timeSinceStartForMessage:(id)arg1;
- (void)handleLocationUpdate:(id)arg1 fromUserJID:(id)arg2 chatJID:(id)arg3 timestamp:(double)arg4 completion:(CDUnknownBlockType)arg5;
- (void)remotePushDidArriveWithTimestamp:(id)arg1;
- (void)handleIncomingRetryRequestFrom:(id)arg1 count:(long long)arg2 registrationData:(id)arg3 final:(_Bool)arg4 finalMessageID:(id)arg5 context:(id)arg6 completion:(CDUnknownBlockType)arg7;
- (void)groupMembershipDidGrowInGroupWithJID:(id)arg1;
- (void)setLocationSharingEndDate:(id)arg1 lastUpdate:(id)arg2 forUserAndChat:(id)arg3 completion:(CDUnknownBlockType)arg4;
- (void)didReceiveChatWithLiveLocationEndDate:(id)arg1 lastUpdate:(id)arg2 messageUniqueKey:(id)arg3 sequenceNumber:(long long)arg4 forUserInChat:(id)arg5 latitude:(float)arg6 longitude:(float)arg7 protobufMessage:(id)arg8 message:(id)arg9;
- (void)didReceiveChatWithLocationMessage:(id)arg1;
- (void)monitorSignificantLocationChangeForMessage:(id)arg1;
- (void)sendFinalLocationForMessage:(id)arg1 chatJID:(id)arg2 before:(id)arg3;
- (_Bool)maybeSendFinalLocationForMessage:(id)arg1;
- (void)deleteAllState;
- (void)didBlockUserJID:(id)arg1;
- (void)willChangeNumber;
- (id)locationSenderMatchingChatAndUser:(id)arg1;
- (_Bool)anyChatSet:(id)arg1 containsNoActiveChats:(id)arg2;
- (void)partitionChatJIDs:(id)arg1 intoActiveJIDs:(out id *)arg2 inactiveJIDs:(out id *)arg3;
- (void)senderDidDisableLocationSharing:(id)arg1;
- (void)allUsersDisabledLocationSharingInAllChats:(CDUnknownBlockType)arg1;
- (void)userDisabledLocationSharingInAllChats:(id)arg1 sequenceNumber:(long long)arg2 completion:(CDUnknownBlockType)arg3;
- (void)sendersDidDisableLocationSharing:(id)arg1 completion:(CDUnknownBlockType)arg2;
- (void)userDisabledLocationSharing:(id)arg1 sequenceNumber:(long long)arg2 completion:(CDUnknownBlockType)arg3;
- (void)stopSendingLocationUpdates;
- (void)startSendingLocationUpdatesForDuration:(double)arg1;
- (_Bool)canShareWithUserJIDs:(id)arg1;
- (id)prospectiveRecipientsForChatSession:(id)arg1;
- (id)locationSharingEndDateForChatJID:(id)arg1;
@property(readonly, nonatomic) long long backoffStage;
- (void)dealloc;
- (id)initWithChatStorage:(id)arg1 chatManager:(id)arg2 locationStorage:(id)arg3 messagingService:(id)arg4 persistentRequestManager:(id)arg5 signalManager:(id)arg6 userDefaults:(id)arg7 xmppConnection:(id)arg8;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned long long hash;
@property(readonly) Class superclass;

@end

